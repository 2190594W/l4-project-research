{% extends "layout.html" %}
{% block body %}
  <h1>Register a <strong>new</strong> Account</h1>
  <form method="post" enctype="multipart/form-data">
    {% if username %}
      <div class="form-group">
        <label for="username">Username:</label>
        <input type="text" class="form-control" name="username" value="{{ username }}" style="width: 40%;">
      </div>
    {% else %}
      <div class="form-group">
        <label for="username">Username:</label>
        <input type="text" class="form-control" name="username" style="width: 40%;">
      </div>
    {% endif %}
    <div class="form-group">
      <label for="passwd">Password:</label>
      <input type="password" class="form-control" name="passwd" style="width: 40%;" aria-describedby="passwordHelpBlock">
      <small id="passwordHelpBlock" class="form-text text-muted" style="width: 40%;">
        Your password must be greater than 12 characters long, contain at least 1 uppercase and 1 lowercase letter, have at least 1 number and at least 1 special character.
      </small>
    </div>
    <div class="form-group">
      <label for="confirm_passwd">Confirm Password:</label>
      <input type="password" class="form-control" name="confirm_passwd" style="width: 30%;">
    </div>
    <div class="form-group">
      <label for="user_key_label">Select a User Key file (<em>.key</em>):</label><br />
      <label class="btn btn-outline-info" id="user_key_label">
        <input type="file" class="form-control-file" name="user_key" id="user_key" style="display: none;"/>
        Choose User Key
      </label>
      <span id="key-selected"></span>
    </div><br />
    <button type="submit" class="btn btn-outline-primary">Register</button>
  </form>
  <script type="text/javascript">
    $('#user_key').bind('change',
      function() {
        var filePath, fileName = '';
        filePath = $(this).val().split("\\");
        fileName = filePath[filePath.length -1];
        $('#key-selected').html(fileName);
      })
  </script>
{% endblock %}
