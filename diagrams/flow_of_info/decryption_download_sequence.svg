<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="736px" preserveAspectRatio="none" style="width:884px;height:736px;" version="1.1" viewBox="0 0 884 736" width="884px" zoomAndPan="magnify"><defs><filter height="300%" id="f219zpohlxpe6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f219zpohlxpe6)" height="282.7051" style="stroke: #000000; stroke-width: 2.0;" width="645.5" x="13" y="348.9727"/><rect fill="#FFFFFF" height="236.084" style="stroke: none; stroke-width: 1.0;" width="645.5" x="13" y="395.5938"/><rect fill="#FFFFFF" filter="url(#f219zpohlxpe6)" height="90.8867" style="stroke: #000000; stroke-width: 2.0;" width="386.5" x="23" y="533.791"/><rect fill="#FFFFFF" height="44.2656" style="stroke: none; stroke-width: 1.0;" width="386.5" x="23" y="580.4121"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="51" x2="51" y1="86.4883" y2="648.6777"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="352.5" x2="352.5" y1="86.4883" y2="648.6777"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="590.5" x2="590.5" y1="86.4883" y2="648.6777"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="33" y="83.5352">User</text><ellipse cx="51.5" cy="13" fill="#FEFECE" filter="url(#f219zpohlxpe6)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M51.5,21 L51.5,48 M38.5,29 L64.5,29 M51.5,48 L38.5,63 M51.5,48 L64.5,63 " fill="none" filter="url(#f219zpohlxpe6)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="33" y="661.2129">User</text><ellipse cx="51.5" cy="674.166" fill="#FEFECE" filter="url(#f219zpohlxpe6)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M51.5,682.166 L51.5,709.166 M38.5,690.166 L64.5,690.166 M51.5,709.166 L38.5,724.166 M51.5,709.166 L64.5,724.166 " fill="none" filter="url(#f219zpohlxpe6)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="305.5" y="83.5352">OpenABE CLI</text><ellipse cx="352.5" cy="54" fill="#FEFECE" filter="url(#f219zpohlxpe6)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="348.5,42,354.5,37,352.5,42,354.5,47,348.5,42" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="305.5" y="661.2129">OpenABE CLI</text><ellipse cx="352.5" cy="680.166" fill="#FEFECE" filter="url(#f219zpohlxpe6)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="348.5,668.166,354.5,663.166,352.5,668.166,354.5,673.166,348.5,668.166" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="532.5" y="83.5352">Resource Server</text><ellipse cx="590.5" cy="54" fill="#FEFECE" filter="url(#f219zpohlxpe6)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="578.5" x2="602.5" y1="68" y2="68"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="532.5" y="661.2129">Resource Server</text><ellipse cx="590.5" cy="680.166" fill="#FEFECE" filter="url(#f219zpohlxpe6)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="578.5" x2="602.5" y1="694.166" y2="694.166"/><polygon fill="#A80036" points="578.5,113.7988,588.5,117.7988,578.5,121.7988,582.5,117.7988" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="584.5" y1="117.7988" y2="117.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="58.5" y="113.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="71.5" y="113.0566">requests available files</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="590.5" x2="632.5" y1="162.4199" y2="162.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.5" x2="632.5" y1="162.4199" y2="175.4199"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="591.5" x2="632.5" y1="175.4199" y2="175.4199"/><polygon fill="#A80036" points="601.5,171.4199,591.5,175.4199,601.5,179.4199,597.5,175.4199" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="597.5" y="150.0225">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="610.5" y="142.3672">determines files to return;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="610.5" y="157.6777">employs an ABAC system for this process</text><polygon fill="#A80036" points="62.5,200.7305,52.5,204.7305,62.5,208.7305,58.5,204.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="56.5" x2="589.5" y1="204.7305" y2="204.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="68.5" y="199.9883">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="81.5" y="199.9883">returns list of available files for user</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="93.5" y1="234.041" y2="234.041"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="93.5" x2="93.5" y1="234.041" y2="247.041"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="52.5" x2="93.5" y1="247.041" y2="247.041"/><polygon fill="#A80036" points="62.5,243.041,52.5,247.041,62.5,251.041,58.5,247.041" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="58.5" y="229.2988">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="232" x="71.5" y="229.2988">determines which file(s) to download</text><polygon fill="#A80036" points="578.5,272.3516,588.5,276.3516,578.5,280.3516,582.5,276.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="584.5" y1="276.3516" y2="276.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="58.5" y="271.6094">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="246" x="71.5" y="271.6094">requests encrypted file(s) for download</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="590.5" x2="632.5" y1="320.9727" y2="320.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="632.5" x2="632.5" y1="320.9727" y2="333.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="591.5" x2="632.5" y1="333.9727" y2="333.9727"/><polygon fill="#A80036" points="601.5,329.9727,591.5,333.9727,601.5,337.9727,597.5,333.9727" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="597.5" y="308.5752">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="610.5" y="300.9199">processes request;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="239" x="610.5" y="316.2305">validates access against ABAC system</text><path d="M13,348.9727 L75,348.9727 L75,355.9727 L65,365.9727 L13,365.9727 L13,348.9727 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="282.7051" style="stroke: #000000; stroke-width: 2.0;" width="645.5" x="13" y="348.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="28" y="362.541">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85" x="90" y="361.6074">[access denied]</text><polygon fill="#A80036" points="62.5,383.5938,52.5,387.5938,62.5,391.5938,58.5,387.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="56.5" x2="589.5" y1="387.5938" y2="387.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="68.5" y="382.8516">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="81.5" y="382.8516">returns access denied response</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="658.5" y1="396.5938" y2="396.5938"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="18" y="407.2285">[access granted]</text><polygon fill="#A80036" points="62.5,427.8594,52.5,431.8594,62.5,435.8594,58.5,431.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="56.5" x2="589.5" y1="431.8594" y2="431.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="68.5" y="427.1172">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="81.5" y="427.1172">returns requested encrypted file to user</text><polygon fill="#A80036" points="340.5,472.4805,350.5,476.4805,340.5,480.4805,344.5,476.4805" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="51.5" x2="346.5" y1="476.4805" y2="476.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="58.5" y="464.083">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="71.5" y="456.4277">requests decryption of resource;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="264" x="71.5" y="471.7383">provides private key &amp; encrypted resource</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="352.5" x2="394.5" y1="505.791" y2="505.791"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="394.5" x2="394.5" y1="505.791" y2="518.791"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="353.5" x2="394.5" y1="518.791" y2="518.791"/><polygon fill="#A80036" points="363.5,514.791,353.5,518.791,363.5,522.791,359.5,518.791" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="359.5" y="501.0488">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="381.5" y="501.0488">attempts decryption of resource</text><path d="M23,533.791 L85,533.791 L85,540.791 L75,550.791 L23,550.791 L23,533.791 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="90.8867" style="stroke: #000000; stroke-width: 2.0;" width="386.5" x="23" y="533.791"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="547.3594">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="130" x="100" y="546.4258">[successful decryption]</text><polygon fill="#A80036" points="62.5,568.4121,52.5,572.4121,62.5,576.4121,58.5,572.4121" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="56.5" x2="351.5" y1="572.4121" y2="572.4121"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="68.5" y="567.6699">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="90.5" y="567.6699">returns decrypted file</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="409.5" y1="581.4121" y2="581.4121"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="103" x="28" y="592.0469">[decryption failed]</text><polygon fill="#A80036" points="62.5,612.6777,52.5,616.6777,62.5,620.6777,58.5,616.6777" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="56.5" x2="351.5" y1="616.6777" y2="616.6777"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="68.5" y="611.9355">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="90.5" y="611.9355">returns error code</text><!--
@startuml
autonumber
actor User
control "OpenABE CLI"
entity "Resource Server"
User -> "Resource Server": requests available files
"Resource Server" -> "Resource Server": determines files to return;\nemploys an ABAC system for this process
"Resource Server" -> User: returns list of available files for user
User -> User: determines which file(s) to download
User -> "Resource Server": requests encrypted file(s) for download
"Resource Server" -> "Resource Server": processes request;\nvalidates access against ABAC system
alt access denied
  "Resource Server" -> User: returns access denied response
else access granted
  "Resource Server" -> User: returns requested encrypted file to user
  User -> "OpenABE CLI": requests decryption of resource;\nprovides private key & encrypted resource
  "OpenABE CLI" -> "OpenABE CLI": attempts decryption of resource
  alt successful decryption
    "OpenABE CLI" -> User: returns decrypted file
  else decryption failed
    "OpenABE CLI" -> User: returns error code
  end
end
@enduml

PlantUML version 1.2018.12(Sun Oct 21 11:15:15 BST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_101-b13
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>