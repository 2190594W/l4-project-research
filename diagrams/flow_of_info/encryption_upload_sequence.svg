<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="468px" preserveAspectRatio="none" style="width:861px;height:468px;" version="1.1" viewBox="0 0 861 468" width="861px" zoomAndPan="magnify"><defs><filter height="300%" id="fvr09wevxk6jt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="26" x2="26" y1="86.4883" y2="381.2832"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="373.5" x2="373.5" y1="86.4883" y2="381.2832"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="609.5" x2="609.5" y1="86.4883" y2="381.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="8" y="83.5352">User</text><ellipse cx="26.5" cy="13" fill="#FEFECE" filter="url(#fvr09wevxk6jt)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26.5,21 L26.5,48 M13.5,29 L39.5,29 M26.5,48 L13.5,63 M26.5,48 L39.5,63 " fill="none" filter="url(#fvr09wevxk6jt)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="8" y="393.8184">User</text><ellipse cx="26.5" cy="406.7715" fill="#FEFECE" filter="url(#fvr09wevxk6jt)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26.5,414.7715 L26.5,441.7715 M13.5,422.7715 L39.5,422.7715 M26.5,441.7715 L13.5,456.7715 M26.5,441.7715 L39.5,456.7715 " fill="none" filter="url(#fvr09wevxk6jt)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="326.5" y="83.5352">OpenABE CLI</text><ellipse cx="373.5" cy="54" fill="#FEFECE" filter="url(#fvr09wevxk6jt)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="369.5,42,375.5,37,373.5,42,375.5,47,369.5,42" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="88" x="326.5" y="393.8184">OpenABE CLI</text><ellipse cx="373.5" cy="412.7715" fill="#FEFECE" filter="url(#fvr09wevxk6jt)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="369.5,400.7715,375.5,395.7715,373.5,400.7715,375.5,405.7715,369.5,400.7715" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="551.5" y="83.5352">Resource Server</text><ellipse cx="609.5" cy="54" fill="#FEFECE" filter="url(#fvr09wevxk6jt)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="597.5" x2="621.5" y1="68" y2="68"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="551.5" y="393.8184">Resource Server</text><ellipse cx="609.5" cy="412.7715" fill="#FEFECE" filter="url(#fvr09wevxk6jt)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="597.5" x2="621.5" y1="426.7715" y2="426.7715"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="68.5" y1="133.1094" y2="133.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="68.5" x2="68.5" y1="133.1094" y2="146.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27.5" x2="68.5" y1="146.1094" y2="146.1094"/><polygon fill="#A80036" points="37.5,142.1094,27.5,146.1094,37.5,150.1094,33.5,146.1094" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="33.5" y="120.7119">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="46.5" y="113.0566">creates policy for resource</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="320" x="46.5" y="128.3672">e.g. "((Staff and Date &gt; March 17, 2019) or Admin)"</text><polygon fill="#A80036" points="361.5,186.7305,371.5,190.7305,361.5,194.7305,365.5,190.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="367.5" y1="190.7305" y2="190.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="33.5" y="178.333">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="46.5" y="170.6777">requests encryption of resource;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="46.5" y="185.9883">provides policy, private key &amp; resource</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="373.5" x2="415.5" y1="220.041" y2="220.041"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="415.5" x2="415.5" y1="220.041" y2="233.041"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="374.5" x2="415.5" y1="233.041" y2="233.041"/><polygon fill="#A80036" points="384.5,229.041,374.5,233.041,384.5,237.041,380.5,233.041" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="380.5" y="215.2988">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="393.5" y="215.2988">processes encryption of resource</text><polygon fill="#A80036" points="37.5,258.3516,27.5,262.3516,37.5,266.3516,33.5,262.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="372.5" y1="262.3516" y2="262.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="43.5" y="257.6094">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="56.5" y="257.6094">returns encrypted file</text><polygon fill="#A80036" points="597.5,287.6621,607.5,291.6621,597.5,295.6621,601.5,291.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="603.5" y1="291.6621" y2="291.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="33.5" y="286.9199">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="46.5" y="286.9199">sends encrypted file for upload</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="609.5" x2="651.5" y1="320.9727" y2="320.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="651.5" x2="651.5" y1="320.9727" y2="333.9727"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="610.5" x2="651.5" y1="333.9727" y2="333.9727"/><polygon fill="#A80036" points="620.5,329.9727,610.5,333.9727,620.5,337.9727,616.5,333.9727" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="616.5" y="316.2305">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="629.5" y="316.2305">processes incoming file and stores</text><polygon fill="#A80036" points="37.5,359.2832,27.5,363.2832,37.5,367.2832,33.5,363.2832" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="608.5" y1="363.2832" y2="363.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="43.5" y="358.541">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="56.5" y="358.541">returns confirmation of successful upload</text><!--
@startuml
autonumber
actor User
control "OpenABE CLI"
entity "Resource Server"
User -> User: creates policy for resource\ne.g. "((Staff and Date > March 17, 2019) or Admin)"
User -> "OpenABE CLI": requests encryption of resource;\nprovides policy, private key & resource
"OpenABE CLI" -> "OpenABE CLI": processes encryption of resource
"OpenABE CLI" -> User: returns encrypted file
User -> "Resource Server": sends encrypted file for upload
"Resource Server" -> "Resource Server": processes incoming file and stores
"Resource Server" -> User: returns confirmation of successful upload
@enduml

PlantUML version 1.2018.12(Sun Oct 21 11:15:15 BST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_101-b13
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>