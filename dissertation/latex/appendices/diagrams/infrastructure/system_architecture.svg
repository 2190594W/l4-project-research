<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="955px" preserveAspectRatio="none" style="width:1434px;height:955px;" version="1.1" viewBox="0 0 1434 955" width="1434px" zoomAndPan="magnify"><defs><filter height="300%" id="f1tdlxxpgf3rep" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster encrypted resource store--><polygon fill="#FFFFFF" filter="url(#f1tdlxxpgf3rep)" points="14,341.5,198,341.5,205,363.9883,208,363.9883,208,660,14,660,14,341.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="205" y1="363.9883" y2="363.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="178" x="18" y="357.0352">encrypted resource store</text><!--cluster Authentication (e.g. SSO)--><polygon fill="#FFFFFF" filter="url(#f1tdlxxpgf3rep)" points="1032,115,1042,105,1412,105,1412,418,1402,428,1032,428,1032,115" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1402" x2="1411" y1="115" y2="106"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1032" x2="1402" y1="115" y2="115"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1402" x2="1402" y1="115" y2="428"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="177" x="1129.5" y="131.5352">Authentication (e.g. SSO)</text><!--cluster OpenABE Library--><polygon fill="#FFFFFF" filter="url(#f1tdlxxpgf3rep)" points="426,691,552,691,559,713.4883,1144,713.4883,1144,943,426,943,426,691" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="426" x2="559" y1="713.4883" y2="713.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="430" y="706.5352">OpenABE Library</text><!--entity resource_store--><rect fill="#FFE4B5" filter="url(#f1tdlxxpgf3rep)" height="36.4883" rx="35" ry="35" style="stroke: #000000; stroke-width: 1.5;" width="122" x="27" y="616"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="37" y="639.5352">resource_store</text><!--entity resource_db--><path d="M35.5,378.5 C35.5,368.5 88,368.5 88,368.5 C88,368.5 140.5,368.5 140.5,378.5 L140.5,403.9883 C140.5,413.9883 88,413.9883 88,413.9883 C88,413.9883 35.5,413.9883 35.5,403.9883 L35.5,378.5 " fill="#ADD8E6" filter="url(#f1tdlxxpgf3rep)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M35.5,378.5 C35.5,388.5 88,388.5 88,388.5 C88,388.5 140.5,388.5 140.5,378.5 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="45.5" y="406.0352">resource_db</text><!--entity a_s--><rect fill="#D87093" filter="url(#f1tdlxxpgf3rep)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="1040.5" y="141.5"/><rect fill="#D87093" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1035.5" y="146.5"/><rect fill="#D87093" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1035.5" y="167.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="1050.5" y="165.0352">Authentication Service</text><!--entity auth_db--><path d="M1328,147 C1328,137 1366,137 1366,137 C1366,137 1404,137 1404,147 L1404,172.4883 C1404,182.4883 1366,182.4883 1366,182.4883 C1366,182.4883 1328,182.4883 1328,172.4883 L1328,147 " fill="#AFEEEE" filter="url(#f1tdlxxpgf3rep)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M1328,147 C1328,157 1366,157 1366,157 C1366,157 1404,157 1404,147 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="1338" y="174.5352">auth_db</text><!--entity login--><ellipse cx="1076" cy="391" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="1058.5" y="421.5352">login</text><!--entity logout--><ellipse cx="1168" cy="391" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="45" x="1145.5" y="421.5352">logout</text><!--entity register--><ellipse cx="1267" cy="391" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="1240.5" y="421.5352">register</text><!--entity abecl--><rect fill="#F08080" filter="url(#f1tdlxxpgf3rep)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="768.5" y="899"/><rect fill="#F08080" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="763.5" y="904"/><rect fill="#F08080" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="763.5" y="925.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="778.5" y="922.5352">ABE Client Library</text><!--entity generate_params--><ellipse cx="501" cy="747" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="441.5" y="777.5352">generate_params</text><!--entity import_public_params--><ellipse cx="687" cy="747" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="610.5" y="777.5352">import_public_params</text><!--entity decrypt--><ellipse cx="839" cy="747" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="813.5" y="777.5352">decrypt</text><!--entity encrypt--><ellipse cx="940" cy="747" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="914.5" y="777.5352">encrypt</text><!--entity import_user_key--><ellipse cx="1072" cy="747" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1015.5" y="777.5352">import_user_key</text><!--entity rs--><rect fill="#7FFFD4" filter="url(#f1tdlxxpgf3rep)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="304" y="373"/><rect fill="#7FFFD4" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="299" y="378"/><rect fill="#7FFFD4" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="299" y="399.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="314" y="396.5352">Resource Server</text><!--entity mks--><rect fill="#20B2AA" filter="url(#f1tdlxxpgf3rep)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="430.5" y="616"/><rect fill="#20B2AA" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="425.5" y="621"/><rect fill="#20B2AA" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="425.5" y="642.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="440.5" y="639.5352">Master Key Server</text><!--entity crs--><rect fill="#90EE90" filter="url(#f1tdlxxpgf3rep)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="667" y="141.5"/><rect fill="#90EE90" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="662" y="146.5"/><rect fill="#90EE90" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="662" y="167.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="677" y="165.0352">Client Resource Server</text><!--entity attributes--><ellipse cx="367" cy="526" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="334" y="556.5352">attributes</text><!--entity enrolment--><ellipse cx="386" cy="634" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="350.5" y="664.5352">enrolment</text><!--entity master_public_key--><ellipse cx="523" cy="526" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="460" y="556.5352">master_public_key</text><!--entity upload--><ellipse cx="108" cy="272" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="84" y="302.5352">upload</text><!--entity download--><ellipse cx="217" cy="272" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="183" y="302.5352">download</text><!--entity all_resource_names--><ellipse cx="369" cy="272" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="301.5" y="302.5352">all_resource_names</text><!--entity latest_mpk--><ellipse cx="524" cy="272" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="487" y="302.5352">latest_mpk</text><!--entity latest_attributes--><ellipse cx="667" cy="272" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="612" y="302.5352">latest_attributes</text><!--entity resource_list--><ellipse cx="340" cy="37" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="296.5" y="67.5352">resource_list</text><!--entity upload_resource--><ellipse cx="491" cy="37" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="433.5" y="67.5352">upload_resource</text><!--entity download_resource--><ellipse cx="666" cy="37" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="598.5" y="67.5352">download_resource</text><!--entity encrypt_resource--><ellipse cx="843" cy="37" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="784" y="67.5352">encrypt_resource</text><!--entity decrypt_resource--><ellipse cx="1012" cy="37" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="953" y="67.5352">decrypt_resource</text><!--entity search_resources--><ellipse cx="1181" cy="37" fill="#FEFECE" filter="url(#f1tdlxxpgf3rep)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="1121.5" y="67.5352">search_resources</text><!--link a_s to login--><path d="M1122.9981,177.6654 C1112.713,224.3517 1085.6306,347.2846 1078.0169,381.8447 " fill="none" id="a_s-login" style="stroke: #A80036; stroke-width: 1.0;"/><!--link a_s to logout--><path d="M1130.2172,177.6654 C1138.4856,224.3517 1160.2578,347.2846 1166.3785,381.8447 " fill="none" id="a_s-logout" style="stroke: #A80036; stroke-width: 1.0;"/><!--link a_s to register--><path d="M1137.9856,177.6654 C1166.2192,224.3517 1240.5631,347.2846 1261.4633,381.8447 " fill="none" id="a_s-register" style="stroke: #A80036; stroke-width: 1.0;"/><!--link generate_params to abecl--><path d="M510.0407,751.5471 C551.7191,772.5096 726.5438,860.4392 802.9757,898.8813 " fill="none" id="generate_params-abecl" style="stroke: #A80036; stroke-width: 1.0;"/><!--link import_public_params to abecl--><path d="M695.1722,756.1399 C719.2828,783.1058 790.4478,862.6982 822.7378,898.8121 " fill="none" id="import_public_params-abecl" style="stroke: #A80036; stroke-width: 1.0;"/><!--link decrypt to abecl--><path d="M839,756.1399 C839,783.1058 839,862.6982 839,898.8121 " fill="none" id="decrypt-abecl" style="stroke: #A80036; stroke-width: 1.0;"/><!--link encrypt to abecl--><path d="M934.5698,756.1399 C918.5489,783.1058 871.2616,862.6982 849.8058,898.8121 " fill="none" id="encrypt-abecl" style="stroke: #A80036; stroke-width: 1.0;"/><!--link import_user_key to abecl--><path d="M1062.8661,753.6642 C1029.716,777.851 915.0173,861.5367 863.9092,898.8259 " fill="none" id="import_user_key-abecl" style="stroke: #A80036; stroke-width: 1.0;"/><!--link resource_db to rs--><path d="M145.7564,391 C190.1176,391 251.5759,391 298.7796,391 " fill="none" id="resource_db-rs" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="303.8812,391,294.8812,387,298.8812,391,294.8812,395,303.8812,391" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="140.5243,391,149.5243,395,145.5243,391,149.5243,387,140.5243,391" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="158.75" y="384.5684">encrypted resources</text><!--link resource_db to resource_store--><path d="M88,419.1455 C88,467.5359 88,565.6228 88,610.5586 " fill="none" id="resource_db-resource_store" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="88,615.7681,92,606.7681,88,610.7681,84,606.7681,88,615.7681" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="88,413.8609,84,422.8609,88,418.8609,92,422.8609,88,413.8609" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="113.5" y="523.5684">manages</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="89" y="538.8789">resource storage</text><!--link a_s to auth_db--><path d="M1218.6948,159.5 C1254.3237,159.5 1293.4441,159.5 1322.4101,159.5 " fill="none" id="a_s-auth_db" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1327.6974,159.5,1318.6974,155.5,1322.6974,159.5,1318.6974,163.5,1327.6974,159.5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1213.6224,159.5,1222.6224,163.5,1218.6224,159.5,1222.6224,155.5,1213.6224,159.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="1231.75" y="153.0684">user records</text><!--link crs to a_s--><path d="M846.7712,159.5 C904.3089,159.5 977.9297,159.5 1035.2716,159.5 " fill="none" id="crs-a_s" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1040.4181,159.5,1031.4181,155.5,1035.4181,159.5,1031.4181,163.5,1040.4181,159.5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="841.4519,159.5,850.4519,163.5,846.4519,159.5,850.4519,155.5,841.4519,159.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="875.25" y="153.0684">authenticates user(s)</text><!--link attributes to mks--><path d="M376.2104,533.4233 C397.1423,550.2938 448.784,591.9155 478.6633,615.9973 " fill="none" id="attributes-mks" style="stroke: #A80036; stroke-width: 1.0;"/><!--link enrolment to mks--><path d="M395.4336,634 C407.1174,634 418.8012,634 430.4849,634 " fill="none" id="enrolment-mks" style="stroke: #A80036; stroke-width: 1.0;"/><!--link master_public_key to mks--><path d="M521.1243,535.208 C517.4874,553.0617 509.4187,592.6716 504.6769,615.9498 " fill="none" id="master_public_key-mks" style="stroke: #A80036; stroke-width: 1.0;"/><!--link upload to rs--><path d="M117.0301,277.6883 C126.9039,283.8007 143.2855,293.6293 158,301 C213.1918,328.6464 278.9008,355.8081 322.1584,372.937 " fill="none" id="upload-rs" style="stroke: #A80036; stroke-width: 1.0;"/><!--link download to rs--><path d="M226.0531,279.0876 C249.3169,297.3008 311.7525,346.1812 345.9041,372.9184 " fill="none" id="download-rs" style="stroke: #A80036; stroke-width: 1.0;"/><!--link all_resource_names to rs--><path d="M369,281.3377 C369,301.0626 369,347.2647 369,372.9588 " fill="none" id="all_resource_names-rs" style="stroke: #A80036; stroke-width: 1.0;"/><!--link latest_mpk to rs--><path d="M514.7682,279.0876 C491.0452,297.3008 427.3774,346.1812 392.5517,372.9184 " fill="none" id="latest_mpk-rs" style="stroke: #A80036; stroke-width: 1.0;"/><!--link latest_attributes to rs--><path d="M657.7547,275.6919 C621.3074,290.2464 486.067,344.2518 414.3433,372.8931 " fill="none" id="latest_attributes-rs" style="stroke: #A80036; stroke-width: 1.0;"/><!--link mks to generate_params--><path d="M501,652.1554 C501,672.8857 501,706.6556 501,727.8088 " fill="none" id="mks-generate_params" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M509.4573,734.7644 A9,9 0 0 0 492.5428 734.7642" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link crs to upload--><path d="M666.7182,167.5639 C524.6918,181.3818 250.1591,211.187 158,243 C146.4749,246.9784 134.6269,253.7128 125.3586,259.691 " fill="none" id="crs-upload" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M124.3377,270.5789 A9,9 0 0 0 114.8826 256.5539" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link crs to download--><path d="M666.9622,167.4266 C569.9916,177.9266 409.4315,200.3212 277,243 C262.3508,247.721 246.7242,255.3666 235.0919,261.6224 " fill="none" id="crs-download" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M232.8172,272.5558 A9,9 0 0 0 224.6118 257.7649" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link crs to all_resource_names--><path d="M689.2132,177.5504 C629.956,194.1731 539.9252,219.7123 462,243 C436.2627,250.6915 406.6635,260.0018 387.9013,265.9616 " fill="none" id="crs-all_resource_names" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M383.7176,276.17 A9,9 0 0 0 378.584 260.0534" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link crs to latest_mpk--><path d="M717.0465,177.5751 C667.136,201.9878 580.0895,244.5649 542.3365,263.0311 " fill="none" id="crs-latest_mpk" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M539.5483,273.8096 A9,9 0 0 0 532.1163 258.6154" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link crs to latest_attributes--><path d="M740.0219,177.5751 C723.5466,198.8794 696.3738,234.0167 680.2304,254.8917 " fill="none" id="crs-latest_attributes" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M682.6237,265.6217 A9,9 0 0 0 669.2435 255.2743" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link crs to decrypt--><path d="M785.9156,177.6374 C815.1813,196.9058 854,230.3196 854,272 C854,272 854,272 854,634 C854,667.3518 847.4994,705.763 843.0571,728.1185 " fill="none" id="crs-decrypt" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M849.9279,736.6679 A9,9 0 0 0 833.3627 733.2483" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link crs to encrypt--><path d="M828.5056,177.5642 C874.5866,193.683 925,222.6048 925,272 C925,272 925,272 925,634 C925,667.3518 931.5006,705.763 935.9429,728.1185 " fill="none" id="crs-encrypt" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M945.6373,733.2483 A9,9 0 0 0 929.0721 736.6679" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link crs to import_user_key--><path d="M823.9964,177.55 C895.4682,198.0905 996,233.7763 996,272 C996,272 996,272 996,634 C996,676.1379 1032.8381,714.3744 1055.22,733.7171 " fill="none" id="crs-import_user_key" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1066.0248,731.7036 A9,9 0 0 0 1055.2088 744.7079" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link crs to import_public_params--><path d="M761.7715,177.8375 C770.3616,199.8034 783,237.9132 783,272 C783,272 783,272 783,634 C783,681.6658 732.7746,719.4965 704.9812,736.782 " fill="none" id="crs-import_public_params" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M703.1832,747.7053 A9,9 0 0 0 694.5126 733.1822" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link rs to attributes--><path d="M365.0952,409.2367 C362.8125,420.8441 360.1586,436.2311 359,450 C357.3708,469.362 360.2239,491.4438 362.964,506.7968 " fill="none" id="rs-attributes" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><path d="M372.5908,512.021 A9,9 0 0 0 355.9852 515.2386" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="360" y="463.5684">offline/manual update</text><!--link rs to master_public_key--><path d="M434.1157,405.2813 C459.9704,414.0909 487.8213,428.0683 506,450 C519.1796,465.9005 522.6836,489.884 523.3663,506.6436 " fill="none" id="rs-master_public_key" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><path d="M531.8972,513.7387 A9,9 0 0 0 514.9837 513.9137" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link resource_list to crs--><path d="M349.2219,41.3409 C362.313,47.3955 387.1279,58.4773 409,66 C499.0778,96.9813 605.1709,124.4254 675.6877,141.4355 " fill="none" id="resource_list-crs" style="stroke: #A80036; stroke-width: 1.0;"/><!--link upload_resource to crs--><path d="M500.0531,41.2167 C533.6988,56.8882 652.8048,112.3653 715.2106,141.4327 " fill="none" id="upload_resource-crs" style="stroke: #A80036; stroke-width: 1.0;"/><!--link download_resource to crs--><path d="M672.6143,46.2074 C687.084,66.3499 721.7768,114.6438 740.8627,141.2122 " fill="none" id="download_resource-crs" style="stroke: #A80036; stroke-width: 1.0;"/><!--link encrypt_resource to crs--><path d="M836.3105,46.2074 C821.6764,66.3499 786.5894,114.6438 767.2866,141.2122 " fill="none" id="encrypt_resource-crs" style="stroke: #A80036; stroke-width: 1.0;"/><!--link decrypt_resource to crs--><path d="M1002.8176,41.3598 C969.4249,57.2149 853.2069,112.396 792.1469,141.3876 " fill="none" id="decrypt_resource-crs" style="stroke: #A80036; stroke-width: 1.0;"/><!--link search_resources to crs--><path d="M1171.7436,40.4213 C1156.3386,46.0643 1124.4205,57.5396 1097,66 C1003.9624,94.7063 895.3438,123.5378 825.6744,141.4399 " fill="none" id="search_resources-crs" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
folder "encrypted resource store" {
  storage resource_store #Moccasin
  database resource_db #LightBlue
}

node "Authentication (e.g. SSO)" {
  component [Authentication Service] as a_s #PaleVioletRed
  database auth_db #PaleTurquoise
  login -up- a_s
  logout -up- a_s
  register -up- a_s
}

package "OpenABE Library" {
  component [ABE Client Library] as abecl #LightCoral
  generate_params - - abecl
  import_public_params - - abecl
  decrypt - - abecl
  encrypt - - abecl
  import_user_key - - abecl
}

component [Resource Server] as rs #Aquamarine
component [Master Key Server] as mks #LightSeaGreen
component [Client Resource Server] as crs #LightGreen

resource_db <-right-> rs: "encrypted resources"
resource_db <-down-> resource_store: "manages\nresource storage"
a_s <-> auth_db: "user records"
crs <-> a_s: "authenticates user(s)"

attributes - - mks
enrolment -right- mks
master_public_key - - mks
upload - - rs
download - - rs
all_resource_names - - rs
latest_mpk - - rs
latest_attributes - - rs

mks -down-( generate_params
crs -down-( upload
crs -down-( download
crs -down-( all_resource_names
crs -down-( latest_mpk
crs -down-( latest_attributes
crs -down-( decrypt
crs -down-( encrypt
crs -down-( import_user_key
crs -down-( import_public_params
rs .down.( attributes: "offline/manual update"
rs .down.( master_public_key

resource_list - - crs
upload_resource - - crs
download_resource - - crs
encrypt_resource - - crs
decrypt_resource - - crs
search_resources - - crs

@enduml

PlantUML version 1.2019.01(Sat Feb 09 15:32:04 GMT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_101-b13
Operating System: Mac OS X
OS Version: 10.14.4
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>