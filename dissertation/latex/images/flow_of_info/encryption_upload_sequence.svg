<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="484px" preserveAspectRatio="none" style="width:865px;height:484px;" version="1.1" viewBox="0 0 865 484" width="865px" zoomAndPan="magnify"><defs><filter height="300%" id="f14cuck3b1l1fm" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="26" x2="26" y1="86.4883" y2="396.5938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="373.5" x2="373.5" y1="86.4883" y2="396.5938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="613.5" x2="613.5" y1="86.4883" y2="396.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="8" y="83.5352">User</text><ellipse cx="26.5" cy="13" fill="#FEFECE" filter="url(#f14cuck3b1l1fm)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26.5,21 L26.5,48 M13.5,29 L39.5,29 M26.5,48 L13.5,63 M26.5,48 L39.5,63 " fill="none" filter="url(#f14cuck3b1l1fm)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="8" y="409.1289">User</text><ellipse cx="26.5" cy="422.082" fill="#FEFECE" filter="url(#f14cuck3b1l1fm)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M26.5,430.082 L26.5,457.082 M13.5,438.082 L39.5,438.082 M26.5,457.082 L13.5,472.082 M26.5,457.082 L39.5,472.082 " fill="none" filter="url(#f14cuck3b1l1fm)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="293.5" y="83.5352">Client Resource Server</text><ellipse cx="373.5" cy="54" fill="#FEFECE" filter="url(#f14cuck3b1l1fm)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="369.5,42,375.5,37,373.5,42,375.5,47,369.5,42" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="293.5" y="409.1289">Client Resource Server</text><ellipse cx="373.5" cy="428.082" fill="#FEFECE" filter="url(#f14cuck3b1l1fm)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="369.5,416.082,375.5,411.082,373.5,416.082,375.5,421.082,369.5,416.082" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="555.5" y="83.5352">Resource Server</text><ellipse cx="613.5" cy="54" fill="#FEFECE" filter="url(#f14cuck3b1l1fm)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="601.5" x2="625.5" y1="68" y2="68"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="555.5" y="409.1289">Resource Server</text><ellipse cx="613.5" cy="428.082" fill="#FEFECE" filter="url(#f14cuck3b1l1fm)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="601.5" x2="625.5" y1="442.082" y2="442.082"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="68.5" y1="133.1094" y2="133.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="68.5" x2="68.5" y1="133.1094" y2="146.1094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="27.5" x2="68.5" y1="146.1094" y2="146.1094"/><polygon fill="#A80036" points="37.5,142.1094,27.5,146.1094,37.5,150.1094,33.5,146.1094" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="33.5" y="120.7119">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="46.5" y="113.0566">creates policy for resource</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="320" x="46.5" y="128.3672">e.g. "((Staff and Date &gt; March 17, 2019) or Admin)"</text><polygon fill="#A80036" points="361.5,186.7305,371.5,190.7305,361.5,194.7305,365.5,190.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="367.5" y1="190.7305" y2="190.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="33.5" y="178.333">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="46.5" y="170.6777">requests encryption of resource;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="46.5" y="185.9883">provides policy &amp; resource</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="373.5" x2="415.5" y1="235.3516" y2="235.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="415.5" x2="415.5" y1="235.3516" y2="248.3516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="374.5" x2="415.5" y1="248.3516" y2="248.3516"/><polygon fill="#A80036" points="384.5,244.3516,374.5,248.3516,384.5,252.3516,380.5,248.3516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="380.5" y="222.9541">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="393.5" y="215.2988">processes encryption of resource;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="393.5" y="230.6094">with Master Public Key</text><polygon fill="#A80036" points="37.5,273.6621,27.5,277.6621,37.5,281.6621,33.5,277.6621" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="372.5" y1="277.6621" y2="277.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="43.5" y="272.9199">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="56.5" y="272.9199">returns encrypted file</text><polygon fill="#A80036" points="601.5,302.9727,611.5,306.9727,601.5,310.9727,605.5,306.9727" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="26.5" x2="607.5" y1="306.9727" y2="306.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="33.5" y="302.2305">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="46.5" y="302.2305">sends encrypted file for upload</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="613.5" x2="655.5" y1="336.2832" y2="336.2832"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="655.5" x2="655.5" y1="336.2832" y2="349.2832"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="614.5" x2="655.5" y1="349.2832" y2="349.2832"/><polygon fill="#A80036" points="624.5,345.2832,614.5,349.2832,624.5,353.2832,620.5,349.2832" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="620.5" y="331.541">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="220" x="633.5" y="331.541">processes incoming file and stores</text><polygon fill="#A80036" points="37.5,374.5938,27.5,378.5938,37.5,382.5938,33.5,378.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="612.5" y1="378.5938" y2="378.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="43.5" y="373.8516">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="56.5" y="373.8516">returns confirmation of successful upload</text><!--
@startuml
autonumber
actor User
control "Client Resource Server"
entity "Resource Server"
User -> User: creates policy for resource\ne.g. "((Staff and Date > March 17, 2019) or Admin)"
User -> "Client Resource Server": requests encryption of resource;\nprovides policy & resource
"Client Resource Server" -> "Client Resource Server": processes encryption of resource;\nwith Master Public Key
"Client Resource Server" -> User: returns encrypted file
User -> "Resource Server": sends encrypted file for upload
"Resource Server" -> "Resource Server": processes incoming file and stores
"Resource Server" -> User: returns confirmation of successful upload
@enduml

PlantUML version 1.2019.01(Sat Feb 09 15:32:04 GMT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_101-b13
Operating System: Mac OS X
OS Version: 10.14.4
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>