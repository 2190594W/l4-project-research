<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="670px" preserveAspectRatio="none" style="width:1162px;height:670px;" version="1.1" viewBox="0 0 1162 670" width="1162px" zoomAndPan="magnify"><defs><filter height="300%" id="f13ryzwdlt0ula" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster encrypted resource store--><polygon fill="#FFFFFF" filter="url(#f13ryzwdlt0ula)" points="695,340,879,340,886,362.4883,1140,362.4883,1140,420,695,420,695,340" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="695" x2="886" y1="362.4883" y2="362.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="178" x="699" y="355.5352">encrypted resource store</text><!--cluster Authentication (e.g. SSO)--><polygon fill="#FFFFFF" filter="url(#f13ryzwdlt0ula)" points="648,115,658,105,1028,105,1028,180,1018,190,648,190,648,115" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1018" x2="1027" y1="115" y2="106"/><line style="stroke: #000000; stroke-width: 1.5;" x1="648" x2="1018" y1="115" y2="115"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1018" x2="1018" y1="115" y2="190"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="177" x="745.5" y="131.5352">Authentication (e.g. SSO)</text><!--cluster OpenABE Library--><polygon fill="#FFFFFF" filter="url(#f13ryzwdlt0ula)" points="14,344.5,140,344.5,147,366.9883,225,366.9883,225,643,14,643,14,344.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="147" y1="366.9883" y2="366.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="18" y="360.0352">OpenABE Library</text><!--entity resource_store--><rect fill="#FFE4B5" filter="url(#f13ryzwdlt0ula)" height="36.4883" rx="35" ry="35" style="stroke: #000000; stroke-width: 1.5;" width="122" x="1010" y="371.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="1020" y="395.0352">resource_store</text><!--entity resource_db--><path d="M703.5,377 C703.5,367 756,367 756,367 C756,367 808.5,367 808.5,377 L808.5,402.4883 C808.5,412.4883 756,412.4883 756,412.4883 C756,412.4883 703.5,412.4883 703.5,402.4883 L703.5,377 " fill="#ADD8E6" filter="url(#f13ryzwdlt0ula)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M703.5,377 C703.5,387 756,387 756,387 C756,387 808.5,387 808.5,377 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="713.5" y="404.5352">resource_db</text><!--entity a_s--><rect fill="#D87093" filter="url(#f13ryzwdlt0ula)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="656.5" y="141.5"/><rect fill="#D87093" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="651.5" y="146.5"/><rect fill="#D87093" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="651.5" y="167.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="666.5" y="165.0352">Authentication Service</text><!--entity auth_db--><path d="M944,147 C944,137 982,137 982,137 C982,137 1020,137 1020,147 L1020,172.4883 C1020,182.4883 982,182.4883 982,182.4883 C982,182.4883 944,182.4883 944,172.4883 L944,147 " fill="#AFEEEE" filter="url(#f13ryzwdlt0ula)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M944,147 C944,157 982,157 982,157 C982,157 1020,157 1020,147 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="954" y="174.5352">auth_db</text><!--entity abecl--><rect fill="#F08080" filter="url(#f13ryzwdlt0ula)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="22.5" y="371.5"/><rect fill="#F08080" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="17.5" y="376.5"/><rect fill="#F08080" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="17.5" y="397.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="32.5" y="395.0352">ABE Client Library</text><!--entity generate_params--><ellipse cx="179" cy="626" fill="#FEFECE" filter="url(#f13ryzwdlt0ula)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="119.5" y="656.5352">generate_params</text><!--entity decrypt_encrypt--><ellipse cx="208" cy="389.5" fill="#FEFECE" filter="url(#f13ryzwdlt0ula)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="153.5" y="420.0352">decrypt_encrypt</text><!--entity rs--><rect fill="#7FFFD4" filter="url(#f13ryzwdlt0ula)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="410" y="371.5"/><rect fill="#7FFFD4" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="405" y="376.5"/><rect fill="#7FFFD4" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="405" y="397.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="420" y="395.0352">Resource Server</text><!--entity mks--><rect fill="#20B2AA" filter="url(#f13ryzwdlt0ula)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="285.5" y="608"/><rect fill="#20B2AA" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="280.5" y="613"/><rect fill="#20B2AA" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="280.5" y="634.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="295.5" y="631.5352">Master Key Server</text><!--entity crs--><rect fill="#90EE90" filter="url(#f13ryzwdlt0ula)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="315" y="141.5"/><rect fill="#90EE90" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="310" y="146.5"/><rect fill="#90EE90" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="310" y="167.9883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="154" x="325" y="165.0352">Client Resource Server</text><!--entity enrolment--><ellipse cx="575" cy="518" fill="#FEFECE" filter="url(#f13ryzwdlt0ula)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="539.5" y="548.5352">enrolment</text><!--entity attributes--><ellipse cx="456" cy="518" fill="#FEFECE" filter="url(#f13ryzwdlt0ula)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="423" y="548.5352">attributes</text><!--entity master_public_key--><ellipse cx="309" cy="518" fill="#FEFECE" filter="url(#f13ryzwdlt0ula)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="246" y="548.5352">master_public_key</text><!--entity upload_download--><ellipse cx="634" cy="272" fill="#FEFECE" filter="url(#f13ryzwdlt0ula)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="572.5" y="302.5352">upload_download</text><!--entity search_resources--><ellipse cx="326" cy="272" fill="#FEFECE" filter="url(#f13ryzwdlt0ula)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="266.5" y="302.5352">search_resources</text><!--entity latest_config--><ellipse cx="479" cy="272" fill="#FEFECE" filter="url(#f13ryzwdlt0ula)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="435.5" y="302.5352">latest_config</text><!--entity client_upload_download--><ellipse cx="192" cy="37" fill="#FEFECE" filter="url(#f13ryzwdlt0ula)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="167" x="108.5" y="67.5352">client_upload_download</text><!--entity client_encrypt_decrypt--><ellipse cx="402" cy="37" fill="#FEFECE" filter="url(#f13ryzwdlt0ula)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="153" x="325.5" y="67.5352">client_encrypt_decrypt</text><!--entity client_resource_search--><ellipse cx="607" cy="37" fill="#FEFECE" filter="url(#f13ryzwdlt0ula)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="156" x="529" y="67.5352">client_resource_search</text><!--link abecl to generate_params--><path d="M99.6055,407.6651 C116.8329,455.0404 162.6883,581.1429 175.5835,616.6047 " fill="none" id="abecl-generate_params" style="stroke: #A80036; stroke-width: 1.0;"/><!--link abecl to decrypt_encrypt--><path d="M163.5273,389.5 C175.3404,389.5 187.1534,389.5 198.9665,389.5 " fill="none" id="abecl-decrypt_encrypt" style="stroke: #A80036; stroke-width: 1.0;"/><!--link rs to resource_db--><path d="M545.4701,389.5 C592.6786,389.5 654.0592,389.5 698.3504,389.5 " fill="none" id="rs-resource_db" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="703.3933,389.5,694.3933,385.5,698.3933,389.5,694.3933,393.5,703.3933,389.5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="540.1733,389.5,549.1733,393.5,545.1733,389.5,549.1733,385.5,540.1733,389.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="558.25" y="383.0684">encrypted resources</text><!--link resource_db to resource_store--><path d="M814.0117,389.5 C867.9458,389.5 948.235,389.5 1004.6852,389.5 " fill="none" id="resource_db-resource_store" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1009.7299,389.5,1000.7299,385.5,1004.7299,389.5,1000.7299,393.5,1009.7299,389.5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="808.7239,389.5,817.7239,393.5,813.7239,389.5,817.7239,385.5,808.7239,389.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="826.75" y="383.0684">manages resource storage</text><!--link a_s to auth_db--><path d="M834.6948,159.5 C870.3237,159.5 909.4441,159.5 938.4101,159.5 " fill="none" id="a_s-auth_db" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="943.6974,159.5,934.6974,155.5,938.6974,159.5,934.6974,163.5,943.6974,159.5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="829.6224,159.5,838.6224,163.5,834.6224,159.5,838.6224,155.5,829.6224,159.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="847.75" y="153.0684">user records</text><!--link crs to a_s--><path d="M494.5267,159.5 C543.1815,159.5 602.6332,159.5 651.1825,159.5 " fill="none" id="crs-a_s" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="656.445,159.5,647.445,155.5,651.445,159.5,647.445,163.5,656.445,159.5" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="489.3732,159.5,498.3732,163.5,494.3732,159.5,498.3732,155.5,489.3732,159.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="507.25" y="153.0684">authenticates user(s)</text><!--link enrolment to mks--><path d="M565.8687,522.5031 C536.7259,536.8749 444.8093,582.2036 392.8023,607.8509 " fill="none" id="enrolment-mks" style="stroke: #A80036; stroke-width: 1.0;"/><!--link attributes to mks--><path d="M447.4741,527.208 C430.9428,545.0617 394.267,584.6716 372.7131,607.9498 " fill="none" id="attributes-mks" style="stroke: #A80036; stroke-width: 1.0;"/><!--link master_public_key to mks--><path d="M313.0072,527.208 C320.7769,545.0617 338.0145,584.6716 348.1448,607.9498 " fill="none" id="master_public_key-mks" style="stroke: #A80036; stroke-width: 1.0;"/><!--link upload_download to rs--><path d="M624.9959,278.654 C601.0832,296.3253 535.3586,344.8954 499.3597,371.4983 " fill="none" id="upload_download-rs" style="stroke: #A80036; stroke-width: 1.0;"/><!--link search_resources to rs--><path d="M335.3206,279.3502 C358.3838,297.5376 418.659,345.07 451.9969,371.36 " fill="none" id="search_resources-rs" style="stroke: #A80036; stroke-width: 1.0;"/><!--link latest_config to rs--><path d="M478.6861,281.22 C478.0268,300.5881 476.4873,345.8099 475.6209,371.2615 " fill="none" id="latest_config-rs" style="stroke: #A80036; stroke-width: 1.0;"/><!--link mks to generate_params--><path d="M285.2659,626 C256.363,626 227.4601,626 198.5573,626 " fill="none" id="mks-generate_params" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M191.4122,634.4572 A9,9 0 0 0 191.4122 617.5428" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link crs to upload_download--><path d="M439.2748,177.5751 C489.6194,201.9878 577.4228,244.5649 615.5041,263.0311 " fill="none" id="crs-upload_download" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M625.7744,258.6122 A9,9 0 0 0 618.3942 273.8316" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link crs to search_resources--><path d="M389.7893,177.5751 C375.5256,198.6891 352.083,233.3903 337.9376,254.3291 " fill="none" id="crs-search_resources" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M340.8901,265.0665 A9,9 0 0 0 326.8741 255.5981" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link crs to latest_config--><path d="M414.3714,177.5751 C428.8879,198.7842 452.788,233.7032 467.0984,254.6113 " fill="none" id="crs-latest_config" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M478.0003,255.566 A9,9 0 0 0 464.0423 265.1197" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link crs to decrypt_encrypt--><path d="M340.0197,177.6196 C306.2434,190.5782 266.4597,211.4138 242,243 C212.6571,280.8921 207.9128,339.7603 207.5777,370.0455 " fill="none" id="crs-decrypt_encrypt" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M216.0663,377.0336 A9,9 0 0 0 199.152 377.1095" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link rs to attributes--><path d="M472.3181,407.6384 C468.7521,431.7558 462.4771,474.1942 458.8353,498.8242 " fill="none" id="rs-attributes" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><path d="M466.1831,506.9498 A9,9 0 0 0 449.4506 504.4757" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><!--link rs to master_public_key--><path d="M409.6565,402.7825 C370.2018,412.2359 325.2466,426.0563 313,442 C300.7058,458.0057 301.6589,481.9689 304.4276,498.6949 " fill="none" id="rs-master_public_key" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><path d="M314.1748,504.2408 A9,9 0 0 0 297.5948 507.5877" fill="none" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="314" y="455.5684">offline/manual update</text><!--link client_upload_download to crs--><path d="M201.0234,42.2637 C230.0708,59.208 322.0921,112.887 370.9008,141.3588 " fill="none" id="client_upload_download-crs" style="stroke: #A80036; stroke-width: 1.0;"/><!--link client_encrypt_decrypt to crs--><path d="M402,46.2074 C402,66.3499 402,114.6438 402,141.2122 " fill="none" id="client_encrypt_decrypt-crs" style="stroke: #A80036; stroke-width: 1.0;"/><!--link client_resource_search to crs--><path d="M597.9269,42.4217 C569.2565,59.5541 479.7045,113.0668 432.2364,141.4319 " fill="none" id="client_resource_search-crs" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml

folder "encrypted resource store" {
  storage resource_store #Moccasin
  database resource_db #LightBlue
}

node "Authentication (e.g. SSO)" {
  component [Authentication Service] as a_s #PaleVioletRed
  database auth_db #PaleTurquoise
}

package "OpenABE Library" {
  component [ABE Client Library] as abecl #LightCoral
  generate_params -up- abecl
  decrypt_encrypt -left- abecl
}

component [Resource Server] as rs #Aquamarine
component [Master Key Server] as mks #LightSeaGreen
component [Client Resource Server] as crs #LightGreen

rs <-> resource_db: "encrypted resources"
resource_db <-> resource_store: "manages resource storage"
a_s <-right-> auth_db: "user records"
crs <-right-> a_s: "authenticates user(s)"

enrolment - - mks
attributes - - mks
master_public_key - - mks
upload_download - - rs
search_resources - - rs
latest_config - - rs

mks -( generate_params
crs -down-( upload_download
crs -down-( search_resources
crs -down-( latest_config
crs -down-( decrypt_encrypt
rs ..( attributes
rs ..( master_public_key: "offline/manual update"

client_upload_download - - crs
client_encrypt_decrypt - - crs
client_resource_search - - crs

@enduml

PlantUML version 1.2019.01(Sat Feb 09 15:32:04 GMT 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_101-b13
Operating System: Mac OS X
OS Version: 10.14.4
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>