% REMEMBER: You must not plagiarise anything in your report. Be extremely careful.

\documentclass[british,table,svgnames,xcdraw]{l4proj}

%
% put any additional packages here
%
\usepackage{csquotes}
\usepackage{multirow}
\usepackage{tabularx}

\usepackage{isodate}
\usepackage{inconsolata}
\usepackage{bbm}

\usepackage{jfdm-plt}
\usepackage{mylang}
\usepackage{url}
\usepackage{cleveref}

\usepackage[acronym,toc]{glossaries}

% let us define a definition for unnumbered chapters.
\titleformat{name=\chapter,numberless}
            [display]
            {\normalfont\huge\bfseries\secfont}
            {}
            {0pt}
            {}

\makenoidxglossaries

\newacronym{dcs}{SCS}{School of Computing Science}
\newacronym{abe}{ABE}{Attribute Based Encryption}
\newacronym{mks}{MKS}{Master Key Server}
\newacronym{prs}{PRS}{Public Resource Server}
\newacronym{crs}{CRS}{Client Resource Server}
\newacronym{aes}{AES}{Advanced Encryption Standard}
\newacronym{uuid}{UUID}{Universally Unique IDentifier}
\newacronym{rbac}{RBAC}{Role Based Access Control}
\newacronym{abac}{ABAC}{Attribute Based Access Control}
\newacronym{xacml}{XACML}{eXtensible Access Control Markup Language}
\newacronym{pep}{PEP}{Policy Enforcement Point}
\newacronym{pdp}{PDP}{Policy Decision Point}
\newacronym{jwt}{JWT}{JSON Web Token}
\newacronym{html}{HTML}{Hypertext Markup Language}
\newacronym{tls}{TLS}{Transport Layer Security}
\newacronym{ssl}{SSL}{Secure Sockets Layer}
\newacronym{ca}{CA}{Certificate Authority}
\newacronym{gui}{GUI}{Graphical User Interface}
\newacronym{cli}{CLI}{Command Line Interface}
\newacronym{os}{OS}{Operating System}

\begin{document}

%==============================================================================
%% METADATA
\title{A Cryptographically Secure Departmental Resource Server}
\author{Christopher Watson}
\date{March 7, 2019}

\maketitle

%==============================================================================
%% ABSTRACT
\input{sections/abstract}

%==============================================================================

% EDUCATION REUSE CONSENT FORM
% If you consent to your project being shown to future students for educational purposes
% then insert your name and the date below to  sign the education use form that appears in the front of the document.
% You must explicitly give consent if you wish to do so.
% If you sign, your project may be included in the Hall of Fame if it scores particularly highly.
%
% Please note that you are under no obligation to sign
% this declaration, but doing so would help future students.
%
\def\consentname {Christopher Watson} % your full name
\def\consentdate {31 January 2019} % the date you agree
%
\educationalconsent


%==============================================================================
\tableofcontents

%==============================================================================
%% Notes on formatting
%==============================================================================
% The first page, abstract and table of contents are numbered using Roman numerals and are not
% included in the page count.
%
% From now on pages are numbered
% using Arabic numerals. Therefore, immediately after the first call to \chapter we need the call
% \pagenumbering{arabic} and this should be called once only in the document.
%
% The first Chapter should then be on page 1. You are allowed 40 pages for a 40 credit project and 20 pages for a
% 20 credit report. This includes everything numbered in Arabic numerals (excluding front matter) up
% to but excluding the appendices and bibliography.
%
% You must not alter text size (it is currently 10pt) or alter margins or spacing.
%
%
%==================================================================================================================================
%
% IMPORTANT
% The chapter headings here are **suggestions**. You don't have to follow this model if
% it doesn't fit your project. Every project should have an introduction and conclusion,
% however.
%
%==================================================================================================================================

\newcommand{\thePolicyLang}{\textsc{PolLang}\textsubscript{ABE}\xspace}
\newcommand{\theResServer}{\textsc{ResSrvr}\textsubscript{ABE}\xspace}
\newcommand{\OpenABE}{\textsc{OpenABE}\xspace}
\newcommand{\PyOpenABE}{\textsc{PyOpenABE}\xspace}

\chapter{Introduction}
\label{ch:introduction}

% reset page numbering. Don't remove this!
\pagenumbering{arabic}

%==============================================================================
%% INTRODUCTION

\input{sections/introduction/overview}

\input{sections/introduction/aims}

\input{sections/introduction/contributions}

\input{sections/introduction/outline}

%==================================================================================================================================
\chapter{Background}
\label{ch:background}

Research into Access Control systems and Encryption methods, as well as the concept of a Public Key Infrastructure. Determining the uses \& requirements of Resource Servers, along with identifying an \acrshort{abe} tool for the system; the \OpenABE library.

\input{sections/background/access_control}

\input{sections/background/encryption}

\input{sections/background/public_key}

\input{sections/background/res_server}

\input{sections/background/openabe}

%==================================================================================================================================
\chapter{Analysis/Requirements}
\label{ch:analysis}

The \theResServer system would require the defining of two servers: an offline \acrfull{mks} that would be tasked with provisioning the master private key for the entire service and a separate \acrfull{prs} for storing all encrypted resources. An end user product would also be required, to run locally on a user's device and then connect to the \acrshort{prs} to provide the services on offer through a simple \acrshort{gui}\@.

We present the analysis of the deployment scenario and the identified requirements of the \theResServer system along with the enrolment process for new users. From analysis of the \acrfull{dcs} we also present a set of Case Studies, considered by thr project throughout design, implementation \& evaluation.

\input{sections/analysis_requirements/security}

\input{sections/analysis_requirements/deployment}

\input{sections/analysis_requirements/enrolment}

\input{sections/analysis_requirements/case_studies}

%==================================================================================================================================
\chapter{Design}
\label{ch:design}

With Background (\Cref{ch:background}) and Analysis (\Cref{ch:analysis}) presented, we present the design of the \theResServer system and the design requirements for the different aspects of the system.\\
This includes the formal language definition (\Cref{sec:formal_lang}) for \theResServer system's policy language, \thePolicyLang, the design of the system's User Keys (\Cref{sec:design_user_key}) and the System Architecture (\Cref{sec:design_sys_arch}). Further, we present the design of the Policy Building (\Cref{sec:design_pol_build}) \& Filename Searching (\Cref{sec:design_file_search}) tools to be incorporated into the \acrfull{crs}.

\input{sections/design/intro}

\input{sections/design/formal_lang}

\input{sections/design/using_the_lang}

\input{sections/design/policy_building}

\input{sections/design/user_key}

\input{sections/design/sys_arch}

\input{sections/design/filename_searching}

%==================================================================================================================================
\chapter{Implementation}
\label{ch:implementation}

From the designs in \Cref{ch:design}, we present the implementation of the \theResServer system. With the \acrfull{mks}, \acrfull{prs} \& \acrfull{crs} implemented as web servers built from Python's Flask microframework using the \PyOpenABE library for \acrfull{abe}. The \acrshort{prs} implements filename searching and uses a local database for storing resource metadata.

\input{sections/implementation/building_web_servers}

\input{sections/implementation/building_the_client}

\input{sections/implementation/employing_openabe}

\input{sections/implementation/mongodb_databases}

\input{sections/implementation/fuzzy_finding_filenames}

%==================================================================================================================================
\chapter{Evaluation}
\label{ch:evaluation}
How good is your solution? How well did you solve the general problem, and what evidence do you have to support that?

\input{sections/evaluation/risk_assessment}

\input{sections/evaluation/successful_achievements}

\input{sections/evaluation/failed_to_achieve}

%==================================================================================================================================
\chapter{Conclusion}
\label{ch:conclusion}
Summarise the whole project for a lazy reader who didn't read the rest (e.g. a prize-awarding committee).
\section{Guidance}
\begin{itemize}
    \item
        Summarise briefly and fairly.
    \item
        You should be addressing the general problem you introduced in the
        Introduction.
    \item
        Include summary of concrete results (``the new compiler ran 2x
        faster'')
    \item
        Indicate what future work could be done, but remember: \textbf{you
        won't get credit for things you haven't done}.
\end{itemize}

%==================================================================================================================================
%
%
%==================================================================================================================================
%  APPENDICES

\input{sections/appendices/main}

%==================================================================================================================================
%   BIBLIOGRAPHY

% The bibliography style is abbrvnat
% The bibliography always appears last, after the appendices.

\bibliographystyle{abbrvnat}

\bibliography{l4proj}

\newpage

\printnoidxglossaries

\end{document}
